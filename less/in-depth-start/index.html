<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Cavepaint Less</title>
  <meta name="description" content="Cavepaint CSS, a composable class and color library for Less/CSS">
  <meta name="author" content="Cavepaint CSS">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="../../cavepaint.css">
  <script src="../../javascript/random-css-file.js"></script>
</head>

<body class="default">

  <nav class="top box-shadow border-bottom bar dark default fixed inner-page-width trim-all vertical-align">
      <h1 class="font-size">
          <a href="../../" class="inline-block ">
              Cavepaint<span class="hide mobile"> CSS</span>
              <img src="../../favicon-32x32.png" class="inline vertical-align text-margin-left no-margin-bottom" alt="Cavepaint logo" style="max-height: 18px;">
          </a>
      </h1>
      <div class="float-right">
          <a href="../../how-to/" class="text-margin-right">How-to</a>
          <a href="../../composables/" class="text-margin-right"><span class="hide tablet">CSS</span><span class="hide mobile">Composables</span></a>
          <a href="../../less/" class="bold">Less</a>
      </div>
  </nav>
  <div class="bar full-width no-margin-bottom border-bottom placeholder"></div>  <header class="default dark pattern inner-page-width text-padding margin-auto">
    <div class="graphite box-shadow border padding margin no-margin-left no-margin-right responsive">
      <div class="two-column golden reverse tablet">
        <div class="vertical-center">
          <img src="../../caveman_cooking.svg" class="flex flex-direction justify-self block hide mobile padding margin-auto no-margin-bottom">
        </div>
        <div>
          <h1>In-depth start</h1>
          <p class="big">Cavepaint Less setup 101</p>
        </div>
        
      </div>
    </div>
  </header>

  <main class="page-width margin-auto white padding responsive min-viewport-height">
    <div class="grid tablet responsive">
      <div class="grid-width-three">
        <nav class="small two-column mobile margin-auto text-width gutter-bottom">
            <div>
              <h6>Less CSS</h6>
              <ul class="">
                  <li><a href="../in-depth-start">In-depth start</a></li>
        
                  <li><a href="../mixins">Mixins</a></li>
              </ul>
            </div>
            <div>
              <h6>Play your part</h6>
              <ul class="">
                  <li><a href="../in-depth-start">In-depth start</a></li>
              </ul>
            </div>
        </nav>
      </div>
      <div class="grid-width-nine inner-text-width">
<section> 
            
    <h1 class="code-line" data-line-start=61 data-line-end=62><a id="How_do_I_get_started_61"></a>How do I get started?</h1>
    <p class="has-line-data" data-line-start="63" data-line-end="64">First, you should have some sort of web page to look at. It can be an <em>index.html</em> file on your desktop. Or a Django app running in the cloud. We really like Sitepoint’s starting point because we’re copy/paste bandits: <a href="https://www.sitepoint.com/a-basic-html5-template/">https://www.sitepoint.com/a-basic-html5-template/</a></p>
    <p class="has-line-data" data-line-start="65" data-line-end="66">Take note of where it links to the CSS: <strong>styles.css</strong> is your stylesheet target.</p>
    <p class="has-line-data" data-line-start="67" data-line-end="68">Don’t write anything in there. You don’t edit CSS files now. You are writing in the Cavepaint way now.</p>
    <p class="has-line-data" data-line-start="69" data-line-end="70">Replace the <strong>&lt;body&gt;</strong> element with this (no, we won’t need that scripts file&mdash; Cavepaint is <em>not</em> a Javascript library):</p>
    <pre><code>&lt;body&gt;
    &lt;main&gt;
        &lt;section&gt;
        &lt;/section&gt;
    &lt;/main&gt;
&lt;/body&gt;</code></pre>
    <p class="has-line-data" data-line-start="78" data-line-end="79">Out of the box, Cavepaint uses main, section and nav as high-level organizational elements. We’ll write our demo HTML in that section element.</p>
    <p class="has-line-data" data-line-start="80" data-line-end="81">Second, you need a way to look at this webpage. If you need something quick, we recommend:</p>
    <pre><code class="terminal">python -m SimpleHTTPServer</code></pre>
    <p class="has-line-data" data-line-start="84" data-line-end="85">That’ll serve your <strong>index.html</strong> file locally, acting like a real website, provided you run it in the same folder (the desktop folder, in the example above). You might need to install python.</p>
    <p class="has-line-data" data-line-start="86" data-line-end="87">Next, we’ll need NPM and Less. Cavepaint is the thing that runs your CSS codebase. Cavepaint runs on Less which runs in NPM. It’s less complicated than it sounds. Just run:</p>
    <pre><code class="terminal">npm install -g less</code></pre>
    <p class="has-line-data" data-line-start="90" data-line-end="91">That installs Less globally, meaning you can run it in any directory. You want to do that because Less runs on your machine, and not so much as a featured package on your site. Your site only shows the compiled results of Less. (The exception here might be less.js. We don’t recommend using less.js with Cavepaint.)</p>
    <p class="has-line-data" data-line-start="92" data-line-end="93">If you don’t have NPM, get it here: <a href="https://www.npmjs.com/get-npm">https://www.npmjs.com/get-npm</a></p>
    <p class="has-line-data" data-line-start="94" data-line-end="95">It’s worth it! Even if you only ever use it for Less.</p>
  </section>
  <section> 
    
    <h1 class="code-line" data-line-start=96 data-line-end=97><a id="A_simple_workflow_96"></a>A simple workflow</h1>
    <p class="has-line-data" data-line-start="98" data-line-end="99">If you’re following along with the above, your directory structure might look like this:</p>
    <p class="has-line-data trim-inner monospace padding responsive cream margin-bottom" data-line-start="100" data-line-end="103">project-name<br>
    ├── index.html<br>
    └── styles.css</p>
    <p class="has-line-data" data-line-start="104" data-line-end="105">If you’re using a more complicated setup, you can probably extrapolate from this demo. Less integrates well with command-line based workflows and has desktop solutions too.</p>
    <p class="has-line-data" data-line-start="106" data-line-end="107">Changes to both files will be reflected on <a href="http://localhost:8000/">http://localhost:8000/</a> whenever we make them and refresh. So where do we put Cavepaint?</p>
    <p class="has-line-data" data-line-start="108" data-line-end="109">The answer: Anywhere you’d like! It works best right in the root directory of the site.</p>
    <p class="has-line-data trim-inner monospace padding responsive cream margin-bottom" data-line-start="110" data-line-end="116">project-name<br>
    ├── cavepaint<br>
    │ ├── cavepaint.less<br>
    │ └── (many, many other files)<br>
    ├── index.html<br>
    └── styles.css</p>
    <p class="has-line-data" data-line-start="117" data-line-end="118">At this point, you may want to change the name of the ‘cavepaint’ folder into something more sensible, like ‘less’:</p>
    <p class="has-line-data trim-inner monospace padding responsive cream margin-bottom" data-line-start="119" data-line-end="125">project-name<br>
    ├── less<br>
    │ ├── index.less<br>
    │ └── (many, many other files)<br>
    ├── index.html<br>
    └── styles.css</p>
    <p class="has-line-data" data-line-start="126" data-line-end="127">In this way, Cavepaint <em>is</em> your CSS/Less codebase. Or at least the start of your codebase.</p>
    
  </section>
  <section> 
    <h1 class="code-line" data-line-start=144 data-line-end=145><a id="Lets_run_this_thing_144"></a>Let’s run this thing!</h1>
    <p class="has-line-data" data-line-start="146" data-line-end="147">Where were we? We had just put together our basic directory structure:</p>
    <p class="has-line-data trim-inner monospace padding responsive cream margin-bottom" data-line-start="148" data-line-end="154">project-name<br>
    ├── less<br>
    │ ├── index.less<br>
    │ └── (many, many other files)<br>
    ├── index.html<br>
    └── styles.css</p>
    <p class="has-line-data" data-line-start="155" data-line-end="156">Where do we start with the actual styling? Let’s imagine we want to write this rule:</p>
    <pre><code>p { border: 2px dashed red;}</code></pre>
    <p class="has-line-data" data-line-start="159" data-line-end="160">In CSS, we start writing the rule. In Less, we start writing the rule.</p>
    <p class="has-line-data" data-line-start="161" data-line-end="162">In Cavepaint, we <em>add the rule</em> to the p definition already in <code>elements/p.less</code>:</p>
    <p class="has-line-data trim-inner monospace padding responsive cream margin-bottom" data-line-start="163" data-line-end="172">project-name<br>
    ├── less<br>
    │ ├── index.less<br>
    │ ├── (many, many other files)<br>
    │ └── elements<br>
    │ &nbsp; ├── <strong>p.less</strong><br>
    │ &nbsp; └── (other elements)<br>
    ├── index.html<br>
    └── styles.css</p>
    <p class="info text-padding"><strong>It's quicker and easier!</strong> If you're in Sublime, Atom or VS Code, you can use <strong>ctrl/cmd + P</strong> and type "p.less" to get to the file quickly.</p>
    <p class="has-line-data" data-line-start="173" data-line-end="174">The most-used HTML elements have their own file in Cavepaint.</p>
    <p class="has-line-data" data-line-start="175" data-line-end="176">Workflow-wise, this means finding “p.less” through your IDE and editing the lone rule within the file, instead of scrolling through one big file looking for one tiny rule among dozens.</p>
    <p class="has-line-data" data-line-start="177" data-line-end="178">For everything outside of HTML elements, we can add rules in the traditional way. For the demo purposes, we can write new rules at the end of <strong>index.less</strong>. Writing rules here gives us easy control over the variable environment. Lazy loading (a Less feature) uses the definitions it finds last, so writing Less here is kind of like having “the high ground.”</p>
    <p class="has-line-data" data-line-start="179" data-line-end="180">We might write this rule at the end of index.less, after all the import statements, instead of the paragraph rule:</p>
    <pre><code>.offer-frame { border: 2px dashed red;}</code></pre>
    <p class="has-line-data" data-line-start="183" data-line-end="184">Now our .offer-frame component (or whatever it is) has the border rule. How do we get it to show up? First let’s make sure it’s in our index.html in the section inside body:</p>
<pre><code>&lt;p class=&quot;offer-frame&quot;&gt;
  20% off compile times!
&lt;/p&gt;</code></pre>
    <p class="has-line-data" data-line-start="187" data-line-end="188">It won’t show up if it’s not there, right? Then let’s compile the rules for how it looks using Less.</p>
    
  </section>
  <section> 
    
    <h1 class="code-line" data-line-start=189 data-line-end=190><a id="Compiling_the_Less_189"></a>Compiling the Less</h1>
    <p class="has-line-data" data-line-start="191" data-line-end="192">To compile our Less, we need to be in our terminal in the site’s root directory, which here is “project-name.” Look, all the best frameworks are boring. Bear with us.</p>
    <p class="has-line-data trim-inner monospace padding responsive cream margin-bottom" data-line-start="193" data-line-end="199">project-name<br>
    ├── less<br>
    │ ├── index.less<br>
    │ └── (many, many other files)<br>
    ├── index.html<br>
    └── styles.css</p>
    <p class="has-line-data" data-line-start="200" data-line-end="201">To compile here, the command is:</p>
    <pre><code>lessc less/index.less styles.css</code></pre>
    <p class="has-line-data" data-line-start="204" data-line-end="205">No, that’s not a typo. It’s <code>lessc</code> in the command line. This will compile the CSS and report back on whether it was a success or a failure. If it’s a failure, we’ll get a hint as to why. If it’s a success, we’re ready to look at the changes.</p>
    <p class="has-line-data" data-line-start="206" data-line-end="207">Going back to <a href="http://localhost:8000/">http://localhost:8000/</a>, we should see our new dashed red border line on the offer component.</p>
    
  </section>
  <section> 
    <h1 class="code-line" data-line-start=214 data-line-end=215><a id="Writing_Less_the_Cavepaint_way_214"></a>Less, the Cavepaint way</h1>
    <p class="has-line-data" data-line-start="216" data-line-end="217">Let’s edit .offer-frame.</p>
    <p class="has-line-data" data-line-start="218" data-line-end="219">Let’s give it a red background:</p>
    <pre><code>.offer-frame { 
  border: 2px dashed red;
  background: red;
}</code></pre>
    <p class="has-line-data" data-line-start="225" data-line-end="226">Compile with <code>lessc</code> and see the red background. There are two problems here, both of which we will solve the Cavepaint way.</p>
    <p class="has-line-data" data-line-start="227" data-line-end="228">First, let’s get the text contrast up to standards.</p>
    <p class="has-line-data" data-line-start="229" data-line-end="230">We could write out something like <code>color: white;</code> or we could find something that worked well with the design. Or we could just automate all of that as a part of our project settings (This is what Cavepaint does).</p>
    <p class="has-line-data" data-line-start="231" data-line-end="232">How do we know what color some text is, anyway? If the designer looked up the contrast numbers, then the designer wasted his time. If the developer looked up the contrast numbers, then the developer wasted her time. Instead, use Cavepaint to establish a contrast standard along with a tinting/shading strategy unique to your project.</p>
    <p class="has-line-data" data-line-start="233" data-line-end="234">To do this, we use the <strong>.contrast()</strong> mixin to programmatically find the best text color given the CSS property and background color as an argument. It takes no time at all (except, well, compile time) and provides perfect consistency (which we can adjust later!) across a project.</p>
    <p class="has-line-data" data-line-start="235" data-line-end="236">So here we can write:</p>
    <pre><code>.offer-frame { 
  border: 2px dashed red;
  background: red;
  <strong>.contrast(red);</strong>
}</code></pre>
    <p class="has-line-data" data-line-start="243" data-line-end="244">This will output a color that meets our site’s default contrast standard. Speaking of which, Cavepaint has a whole bunch of defaults. One of them will be good for the problem we see on refresh: The .offer-frame paragraph has no padding.</p>
    <p class="has-line-data" data-line-start="245" data-line-end="246">Naturally, we add this in:</p>
    <pre><code>.offer-frame { 
  border: 2px dashed red;
  background: red;
  .contrast(red);
  <strong>padding:</strong> 
}</code></pre>
    <p class="has-line-data" data-line-start="254" data-line-end="255">But what comes next? What do we set the padding to? We set it to the <em>default</em> padding, which is set at the project level. But how do we express that? In CSS, it’s maybe not so straightforward. Here's one way:</p>
    <p>It can be expressed this way:</p>
    <pre><code>.offer-frame { 
  border: 2px dashed red;
  background: red;
  .contrast(red);
  <strong>padding: @padding;</strong> 
}</code></pre>
    <p>Or we can be even more explicit about the defaultness with <strong>.default():</strong></p>
    <pre><code>.offer-frame { 
  border: 2px dashed red;
  background: red;
  .contrast(red);
  <strong>.default(padding);</strong>
}</code></pre>
    <p class="has-line-data" data-line-start="263" data-line-end="264">Ultimately, this ‘padding’ reference goes back to Cavepaint’s <strong>properties.less</strong> file which contains default variable counterparts for every single CSS property, meaning <strong>.default()</strong> can be used with most CSS properties. .default(border), .default(margin), .default(box-shadow) will all output rules assigning those CSS properties to those same-named Less variable values.</p>
    <p class="has-line-data" data-line-start="265" data-line-end="266">When transplanted to another Cavepaint app, .offer-frame will play by that app's rules, using that app’s default padding. This idea of transplantability is a core theme in Cavepaint, which targets the decentralized web. A shared precompile styling environment lets the sites of the next Internet share parts as needed without looking ridiculous. (Don’t worry, it works with the "Legacy Internet" too.)</p>
    <p class="has-line-data" data-line-start="267" data-line-end="268">Enough of the ideals. Let’s clean up .offer-frame a bit.</p>
  </section>
  <section> 
    
    <h1 class="code-line" data-line-start=269 data-line-end=270><a id="Color_and_meaning_269"></a>Color and meaning</h1>
    <p class="has-line-data" data-line-start="271" data-line-end="272">Generally @color is used to represent what color something is.</p>
    <p class="has-line-data" data-line-start="273" data-line-end="274">It’s not, as implied above, the default value for “color:” the CSS property. It’s the only exception, because we shouldn’t be writing “color:” in our code.</p>
    <p class="has-line-data" data-line-start="275" data-line-end="276">So let’s set that red background to a variable:</p>
    <pre><code>.offer-frame { 
  @color: red;
  border: 2px dashed @color;
  background: @color;
  .contrast(@color);
  <strong>.default(padding);</strong>
}</code></pre>
    <p class="has-line-data" data-line-start="285" data-line-end="286">Now it has padding, the text is properly contrasted, and it even has that neat border.</p>
    <p class="has-line-data" data-line-start="287" data-line-end="288">The problem now is that, in most themes and applications, red (the CSS color) is just a bit too much.</p>
    <p class="has-line-data" data-line-start="289" data-line-end="290">There’s a less obvious problem: Red means something to us. But it doesn’t necessarily mean something in general.</p>
    <p class="has-line-data" data-line-start="291" data-line-end="292">Project-wide meaning is a hard thing to nail down, especially in a visual design sense. To remedy this, Cavepaint ships with ten semantic colors, all of which convey some sort of meaning. Here, we’ll convey meaning through the variable <strong>@failure</strong>, which is always red.</p>
    <pre><code>.offer-frame { 
  @color: @failure;
  border: 2px dashed @color;
  background: @color;
  .contrast(@color);
  <strong>.default(padding);</strong>
}</code></pre>
    <p class="has-line-data" data-line-start="301" data-line-end="302">Notice that the contrast adjusts to the new color. If we changed it to <strong>@success</strong>, which is always green, the text contrast would still just work. Try ‘white’ and ‘black’ too.</p>
    <p class="has-line-data" data-line-start="303" data-line-end="304">Note also that the semantic colors in your codebase are all downstream of the <strong>@base-color</strong> variable. This variable should be something like your “brand color” or main color of the project. There are as many sets of semantic colors as there are input values.</p>
    
  </section>
  <section> 
    <h1 class="code-line" data-line-start=305 data-line-end=306><a id="Thats_it_Youre_done_305"></a>That’s it! You’re done.</h1>
    <p class="has-line-data" data-line-start="307" data-line-end="308">Your .offer-frame may not seem impressive on its own, but let’s review what you’ve done here:</p>
    <ul>
    <li class="has-line-data" data-line-start="309" data-line-end="310">You learned (or brushed up on) some Less basics</li>
    <li class="has-line-data" data-line-start="310" data-line-end="311">You bootstrapped a fully-featured CSS codebase</li>
    <li class="has-line-data" data-line-start="311" data-line-end="312">You gave something semantic meaning through color</li>
    <li class="has-line-data" data-line-start="312" data-line-end="313">You implemented and wieled project-wide defaults</li>
    <li class="has-line-data" data-line-start="313" data-line-end="314">You learned how to not worry about text contrast</li>
    </ul>

</section>