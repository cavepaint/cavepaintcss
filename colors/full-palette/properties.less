@tablet: calc(@text-width + @gutter);
@desktop: calc(@page-width + @gutter);
@text-width: @text-base * .618rem;
@card-width: @text-width * .618;
@page-width: @text-width * 1.618;
@feature-width: @text-width * 2.618;
@font-size-mobile: calc(var(--font-size-base) - 2px);
@font-size-tablet: calc(var(--font-size-base) - 1px);
@font-size-desktop: var(--font-size-base);

/* This project uses Cavepaint (MIT License) by Rex Riepe */ 
/* https://github.com/cavepaint/cavepaintCSS */

:root {
    --font-size-base: @font-size;
    --font-size-mod: 1;
    --font-family: @font-family;
    --line-height: @line-height;
    --headline-base: 1em;
    --headline-mod: 1;
    --spacer: @padding;
    --margin-base: @margin;
    --text-padding: .28em;
    --text-margin: var(--text-padding);
    --text-border-radius: var(--text-padding);
    --text-shadow: var(--box-shadow);
    --gap: var(--spacer);
    --grid-columns: 12;
    --golden: 1.618;
    --h: round(hue(@white), 1);
    --s: round(saturation(@white), 1);
    --l: round(lightness(@white), 1);
    --a: .2;
    --border-width: 1px;
    --border-style: solid;
    --border-radius: .5em;
    --border-h: var(--h);
    --border-s: var(--s);
    --border-l: clamp(0%, calc(var(--l) * .85), 85%);
    --border-color: hsl(var(--border-h), var(--border-s), var(--border-l));
    --border: var(--border-width) var(--border-style) var(--border-color);
    --border-thin: calc(var(--border-width) / 2);
    --border-thick: calc(var(--border-width) * 2);
    --border-radius: var(--text-padding);
    --text-measure: @text-base;
    --text-width: calc(var(--text-measure) * .618rem);
    --card-width: calc(var(--text-width) * .618);
    --page-width: calc(var(--text-width) * 1.618);
    --feature-width: calc(var(--page-width) * 1.618);
    --box-shadow: var(--shadow-position) var(--shadow-position) var(--shadow-blur) var(--shadow-color);
    --shadow-position: 1px;
    --shadow-blur: 1px;
    --shadow-color: fade(@black, 20%);
    --direction: 180deg;
    --warm: @warm-rgba;
    --cool: @cool-rgba;
    --neutral: @neutral-rgba;
    --dull: @dull-rgba;
    --monospace: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, "DejaVu Sans Mono", Courier, monospace;
    --serif: Constantia, "Lucida Bright", Lucidabright, "Lucida Serif", Lucida, "Droid Serif", "Bitstream Vera Serif", "Liberation Serif", Georgia, serif;
    --sans-serif: "Helvetica Neue", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, sans-serif;
    --ambient: @ambient;
    --white: @white;
    --black: @black;
    --red: @red;
    --orange: @orange;
    --yellow: @yellow;
    --green: @green;
    --teal: @teal;
    --cyan: @cyan;
    --blue: @blue;
    --purple: @purple;
    --magenta: @magenta;
    --gray: @gray;
    --base-color: @action;
    --complement: @complement;
    --accent: @accent;
    --second-accent: @inverted-accent;
    --split: @split;
    --second-split: @inverted-split;
    --triad: @triad;
    --second-triad: var(--complement);
    --third-triad: @third-triad;
    --tetrad: @tetrad;
    --second-tetrad: @second-tetrad;
    --third-tetrad: @third-tetrad;
    --fourth-tetrad: @fourth-tetrad;
    --action: @action;
    --reaction: @reaction;
    --info: var(--cyan);
    --warning: var(--orange);
    --success: var(--green);
    --failure: var(--red);

    .on-mobile({
        --padding: calc(.6 * var(--spacer));
        --margin: calc(.6 * var(--margin-base));
        --gutter: calc(1.2 * var(--margin-base));
        --font-size: @font-size-mobile;
        --headline-base: 1em;
    });

    .on-tablet({
        --padding: calc(.8 * var(--spacer));
        --margin: calc(.8 * var(--margin-base));
        --gutter: calc(1.6 * var(--margin-base));
        --font-size: @font-size-tablet;
        --headline-base: 1.1em;
    });

    .on-desktop({
        --padding: calc(1 * var(--spacer));
        --margin: calc(1 * var(--margin-base));
        --gutter: calc(2 * var(--margin-base));
        --font-size: @font-size-desktop;
        --headline-base: 1.2em;
    });
}

.on-mobile(@rules) {
    @media screen and (min-width: 1px) { @rules();}
}

.on-tablet(@rules) {
    @media screen and (min-width: @tablet) { @rules();}
}

.on-desktop(@rules) {
    @media screen and (min-width: @desktop) { @rules();}
}

.under-tablet(@rules) {
    @media screen and (max-width: calc(@tablet - 1px)) { @rules();}
}

.under-desktop(@rules) {
    @media screen and (max-width: calc(@desktop - 1px)) { @rules();}
}