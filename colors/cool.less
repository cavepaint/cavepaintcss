@cool-base: .set-cool-base()[];

@cool-lumafix: .set-lumafix(@cool-base, @base-color, 50%)[];

@cool: .set-color(~"cool", @cool-lumafix, 0)[];

// .set-color(~"cool", @cool, 0, @outputs: true);

.set-cool-base() when (blue(@base-color) > 64) {
    @cool-base: average(@blue, @skyblue);
}

.set-cool-base() when (blue(@base-color) > 128) {
    @cool-base: @skyblue;
}

.set-cool-base() when (blue(@base-color) > 196) {
    @cool-base: @cyan;
}

.set-cool-base() when (default()) {
    @cool-base: @blue;
}

.cool {
    background-image+: url("data:image/svg+xml,@{cool-bg-base}");

    @cool-bg: escape(~"@{cool}");
    @cool-bg-base: "%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%202.646%202.646%22%20height%3D%2210%22%20width%3D%2210%22%3E%3Cpath%20fill%3D%22@{cool-bg}%22%20fill-opacity%3D%22@{cool-bg-fill-opacity}%22%20d%3D%22M0%200h2.646v2.646H0z%22%2F%3E%3C%2Fsvg%3E";
    @cool-bg-fill-opacity: .16;

    &.texture {
        .texture;
    }

    &.pattern {
        .pattern;
    }
}